<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>À propos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="../static/images/logo2.png" type="image/x-icon">
    <script>
    document.addEventListener("DOMContentLoaded", function () {

        // Trouve toutes les images utilisant un usemap
        const images = document.querySelectorAll("img[usemap]");

        images.forEach(img => {
            function resizeImageMap() {
                const mapName = img.getAttribute("usemap").replace("#", "");
                const map = document.querySelector('map[name="' + mapName + '"]');
                if (!map) return;

                const scale = img.clientWidth / img.naturalWidth;

                // Réception des coordonnées d'origine
                map.querySelectorAll("area").forEach(area => {
                    const original = area.dataset.originalCoords.split(',').map(Number);
                    const scaled = original.map(c => c * scale);
                    area.coords = scaled.join(',');
                });
            }

            // Stocke les coordonnées initiales
            const mapName = img.getAttribute("usemap").replace("#", "");
            const map = document.querySelector('map[name="' + mapName + '"]');
            if (map) {
                map.querySelectorAll("area").forEach(area => {
                    area.dataset.originalCoords = area.coords;
                });
            }

            // Redimensionnement au chargement
            resizeImageMap();

            // Redimensionnement quand la fenêtre change
            window.addEventListener("resize", resizeImageMap);
        });
    });
    </script>
</head>
<body class="bg-gray-100 text-gray-800">

    {% include '/components/nav.html' %}
    
    <div class="flex justify-center items-center min-h-screen p-4">
        <img src="./static/images/plan.jpg" usemap="#map1" class="max-w-2xl w-full h-auto rounded-lg">
    </div>

    <map name="map1">
        <area href="/animals?zone=Sahara" alt="sahara" title="sahara" coords="3442,1845,3739,1941,3919,1762,3884,1608,4076,1481,4304,1495,4348,1573,4536,1508,4685,1508,4773,1039,4238,960,3792,1039,3639,986,3100,925,2995,1153,2885,1258,2850,1407,2920,1547,2938,1714,3122,1832,3201,1906,3402,1906" shape="poly">
        <area href="/animals?zone=Afrique" alt="afrique" title="afrique" coords="2899,1670,2829,1376,2956,1153,3034,986,2575,719,2338,978,2474,1083,2325,1420,2027,1525,1865,1503,1751,1438,1646,1205,1506,1258,1480,1398,1305,1411,1541,1569,1756,1648,1909,1744,2054,1819,2272,1871,2378,1722,2570,1635,2675,1582" shape="poly">
        <area href="/animals?zone=Savane" alt="savane" title="savavne" coords="2325,951,2553,702,2413,575,2404,470,2185,325,1756,592,1423,627,1160,807,1103,929,1226,1105,1419,1140,1515,1197,1629,1188,1659,1061,1813,1065,1935,1140,2211,1048" shape="poly">
        <area href="/animals?zone=Montagne" alt="montagne" title="montagne" coords="3078,1836,3078,2235,3498,2230,4081,2055,4379,2108,4554,1990,4659,1538,4335,1573,4287,1499,4081,1495,3901,1608,3928,1749,3783,1924,3722,1963,3534,1915,3446,1924,3284,1941,3144,1915" shape="poly">
        <area href="/animals?zone=Cascade" alt="cascade" title="cascade" coords="3061,1854,3061,2222,2535,2520,2395,2379,2124,2344,1856,2068,1370,1854,1173,1683,933,1280,889,1070,1099,864,1095,960,1147,1065,1222,1135,1322,1144,1467,1188,1467,1363,1265,1385,1265,1429,1874,1792,2277,1906,2373,1762,2627,1626,2890,1714" shape="poly">
    </map>

    {% include '/components/flash.html' %}

</body>
</html>
